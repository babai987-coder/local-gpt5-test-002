<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quote Generator with Categories</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #22d3ee;
      --accent-2: #a78bfa;
      --btn: #22c55e;
      --btn-hover: #16a34a;
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif;
      color: var(--text);
      background: radial-gradient(1000px 800px at 10% 10%, rgba(34, 211, 238, .12), transparent),
                  radial-gradient(800px 800px at 90% 20%, rgba(167, 139, 250, .12), transparent),
                  linear-gradient(180deg, #0b1220, #0f172a 40%);
    }
    .app {
      max-width: 760px;
      margin: 0 auto;
      padding: 24px;
      min-height: 100%;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: 24px;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      flex-wrap: wrap;
    }
    h1 {
      font-size: 22px;
      margin: 0;
      letter-spacing: 0.3px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    h1 .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 12px rgba(34, 211, 238, 0.8);
    }
    .controls {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    label {
      font-size: 14px;
      color: var(--muted);
    }
    select {
      appearance: none;
      background: linear-gradient(180deg, #0b1220, #0c1424);
      border: 1px solid #24324a;
      color: var(--text);
      padding: 10px 36px 10px 12px;
      border-radius: 10px;
      font-size: 14px;
      outline: none;
      position: relative;
    }
    .select-wrap {
      position: relative;
      display: inline-flex;
      align-items: center;
    }
    .select-wrap::after {
      content: "▾";
      position: absolute;
      right: 10px;
      pointer-events: none;
      color: var(--muted);
      font-size: 12px;
    }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0));
      border: 1px solid rgba(148, 163, 184, 0.2);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.04);
      display: grid;
      gap: 16px;
      align-content: center;
      min-height: 260px;
    }
    .quote {
      font-size: 22px;
      line-height: 1.5;
      margin: 0;
    }
    .quote::before, .quote::after {
      content: "“";
      color: var(--accent);
      margin-right: 6px;
    }
    .quote::after {
      content: "”";
      margin-left: 6px;
      margin-right: 0;
    }
    .author {
      color: var(--muted);
      font-size: 15px;
    }
    .pill {
      font-size: 12px;
      color: #0b1324;
      background: linear-gradient(45deg, var(--accent), var(--accent-2));
      border-radius: 999px;
      padding: 6px 10px;
      width: max-content;
      font-weight: 600;
      letter-spacing: 0.3px;
    }
    .actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    button {
      background: var(--btn);
      color: white;
      border: none;
      border-radius: 10px;
      padding: 12px 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform .05s ease, background .2s ease, box-shadow .2s ease;
      box-shadow: 0 8px 20px rgba(34, 197, 94, 0.25);
    }
    button:hover { background: var(--btn-hover); }
    button:active { transform: translateY(1px); }
    .subtle {
      background: transparent;
      color: var(--muted);
      border: 1px solid #24324a;
      box-shadow: none;
    }
    .subtle:hover {
      color: var(--text);
      border-color: #2f4160;
    }
    footer {
      color: var(--muted);
      font-size: 12px;
      text-align: center;
      padding-bottom: 12px;
    }
    .fade {
      animation: fadeIn .25s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @media (max-width: 520px) {
      .quote { font-size: 18px; }
      .card { min-height: 220px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1><span class="dot"></span> Quote Generator</h1>
      <div class="controls" role="region" aria-label="Filters and actions">
        <label for="categorySelect">Category</label>
        <div class="select-wrap">
          <select id="categorySelect" aria-label="Quote category filter">
            <option value="all">All Categories</option>
            <option value="Motivation">Motivation</option>
            <option value="Life">Life</option>
            <option value="Success">Success</option>
          </select>
        </div>
        <button id="newQuoteBtn" title="Get a new random quote">New Quote</button>
      </div>
    </header>

    <main>
      <div class="card" aria-live="polite" aria-atomic="true">
        <span id="categoryPill" class="pill">All</span>
        <p id="quoteText" class="quote fade">Loading quote...</p>
        <div id="author" class="author">—</div>
      </div>
    </main>

    <footer>
      Tip: Use the dropdown to filter by category. Click “New Quote” for another random one.
    </footer>
  </div>

  <script>
    const quotes = [
      // Motivation
      { text: "The only way to do great work is to love what you do.", author: "Steve Jobs", category: "Motivation" },
      { text: "Don’t watch the clock; do what it does. Keep going.", author: "Sam Levenson", category: "Motivation" },
      { text: "Action is the foundational key to all success.", author: "Pablo Picasso", category: "Motivation" },
      { text: "Start where you are. Use what you have. Do what you can.", author: "Arthur Ashe", category: "Motivation" },
      // Life
      { text: "Life is what happens when you’re busy making other plans.", author: "John Lennon", category: "Life" },
      { text: "The purpose of our lives is to be happy.", author: "Dalai Lama", category: "Life" },
      { text: "In the end, we only regret the chances we didn’t take.", author: "Often Attributed", category: "Life" },
      { text: "To live is the rarest thing in the world. Most people exist, that is all.", author: "Oscar Wilde", category: "Life" },
      // Success
      { text: "Success usually comes to those who are too busy to be looking for it.", author: "Henry David Thoreau", category: "Success" },
      { text: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill", category: "Success" },
      { text: "Opportunities don’t happen. You create them.", author: "Chris Grosser", category: "Success" },
      { text: "I find that the harder I work, the more luck I seem to have.", author: "Thomas Jefferson", category: "Success" }
    ];

    const quoteTextEl = document.getElementById('quoteText');
    const authorEl = document.getElementById('author');
    const newQuoteBtn = document.getElementById('newQuoteBtn');
    const categorySelect = document.getElementById('categorySelect');
    const categoryPill = document.getElementById('categoryPill');

    let lastIndex = -1;

    function getFilteredQuotes(categoryValue) {
      if (!categoryValue || categoryValue === 'all') return quotes;
      return quotes.filter(q => q.category.toLowerCase() === categoryValue.toLowerCase());
    }

    function pickRandomIndex(len, avoidIndex = -1) {
      if (len <= 1) return 0;
      let idx = Math.floor(Math.random() * len);
      if (idx === avoidIndex) {
        idx = (idx + 1 + Math.floor(Math.random() * (len - 1))) % len;
      }
      return idx;
    }

    function showRandomQuote() {
      const categoryValue = categorySelect.value || 'all';
      const pool = getFilteredQuotes(categoryValue);
      if (!pool.length) {
        quoteTextEl.textContent = "No quotes available for this category.";
        authorEl.textContent = "—";
        categoryPill.textContent = categoryValue === 'all' ? 'All' : categoryValue;
        return;
      }
      const idx = pickRandomIndex(pool.length, lastIndex);
      lastIndex = idx;
      const q = pool[idx];
      // Update UI with a tiny fade
      quoteTextEl.classList.remove('fade');
      void quoteTextEl.offsetWidth; // reflow for animation
      quoteTextEl.textContent = q.text;
      quoteTextEl.classList.add('fade');

      authorEl.textContent = `— ${q.author}`;
      categoryPill.textContent = categoryValue === 'all' ? 'All' : q.category;
    }

    // Ensure dropdown matches dataset categories if needed (keeps at least the 3 required)
    (function syncCategories() {
      const present = new Set([...categorySelect.options].map(o => o.value));
      const unique = [...new Set(quotes.map(q => q.category))].sort();
      for (const cat of unique) {
        if (!present.has(cat)) {
          const opt = document.createElement('option');
          opt.value = cat;
          opt.textContent = cat;
          categorySelect.appendChild(opt);
        }
      }
    })();

    newQuoteBtn.addEventListener('click', showRandomQuote);
    categorySelect.addEventListener('change', () => {
      lastIndex = -1;
      showRandomQuote();
    });

    // Initial render
    showRandomQuote();

    // Keyboard shortcut: R for new quote
    window.addEventListener('keydown', (e) => {
      if (e.key.toLowerCase() === 'r') {
        e.preventDefault();
        showRandomQuote();
      }
    });
  </script>
</body>
</html>